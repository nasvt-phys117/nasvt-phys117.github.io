<!DOCTYPE html> <html lang="en-US"> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="Nasos Voutouras" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="Nasos Voutouras" /> <title> Jekyll blog with docker - Nasos Voutouras </title> <link rel="alternate" href="http://0.0.0.0:8080/Jekyll-blog-with-docker/" hreflang="en-US" /> <link rel="canonical" href="http://0.0.0.0:8080/Jekyll-blog-with-docker/" /> <meta name="description" content="This is my personal website! Welcome!" /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="Jekyll blog with docker | Nasos Voutouras" /> <meta property="og:title" content="Jekyll blog with docker | Nasos Voutouras" /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://0.0.0.0:8080/Jekyll-blog-with-docker/" /> <meta property="og:description" content="This is my personal website! Welcome!" /> <meta property="og:image" content="http://0.0.0.0:8080/assets/img/ogp.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="Jekyll blog with docker | nasosvt" /> <meta name="twitter:url" content="http://0.0.0.0:8080/Jekyll-blog-with-docker/" /> <meta name="twitter:site" content="@nasosvt" /> <meta name="twitter:creator" content="@nasosvt" /> <meta name="twitter:description" content="This is my personal website! Welcome!" /> <meta name="twitter:image" content="http://0.0.0.0:8080/assets/img/ogp.png" /> <link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:8080/feed.xml" title="Nasos Voutouras" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" /> <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="Jekyll Klise" /> <meta name="application-name" content="Jekyll Klise" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> <!-- for mathjax support --> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "AMS" } } }); </script> <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js?config=TeX-AMS-MML_HTMLorMML"></script> </head> <body data-theme="light" class="notransition"> <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"><a class="menu-link" href="/">home</a><a class="menu-link" href="/posts/">posts</a><a class="menu-link" href="/essays/">essays</a><a class="menu-link" href="/about/">about</a></div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <h1 class="header-title" itemprop="headline">Jekyll blog with docker</h1> <div class="post-meta"> <time datetime="2025-03-16T00:00:00+00:00" itemprop="datePublished"> Mar 16, 2025 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">Nasos Voutouras</span> </span> <time hidden datetime="" itemprop="dateModified"> Mar 16, 2025 </time> <span hidden itemprop="publisher" itemtype="Person">Nasos Voutouras</span> <span hidden itemprop="image"></span> <span hidden itemprop="mainEntityOfPage"><h1 id="building-a-blog-with-jekyll-and-docker">Building a blog with Jekyll and Docker</h1> <p>An easy guide and reference (mainly for myself). Probably not following best practices but it works.</p> <p>After reading the guide we’ll have a functional blog built by Jekyll, run locally in a container using Docker.</p> <h2 id="setting-up-the-environment">Setting up the environment</h2> <p>I am using Ubuntu. Get the Docker cli from the store or use</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo snap install docker
</code></pre></div></div> <p>to do it through the terminal.</p> <p>Visual Studio Code is an excellent editor that also has terminal.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo snap install code --classic
</code></pre></div></div> <p>We might also need <code class="language-plaintext highlighter-rouge">git</code> and <code class="language-plaintext highlighter-rouge">curl</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install git curl
</code></pre></div></div> <p>Now, we need to create our working directory. I already have my blog created so I <code class="language-plaintext highlighter-rouge">git clone</code> it. If you don’t have that, the only thing we need is an empty directory inside of which we are going to create the <strong>Dockerfile</strong>.</p> <p>The <strong>Dockerfile</strong> contains instructions on how the image is built, i.e. how the initial state of our container will look. We can create many containers using the same image. So, without further ado, we are going to create a new text file called <em>Dockerfile</em> and write the following text in it:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    FROM ruby:3.4.2-alpine3.21

    RUN apk update
    RUN apk add --no-cache build-base gcc cmake git
    
    RUN gem update bundler &amp;&amp; gem install bundler jekyll
</code></pre></div></div> <p>This will instruct docker to create an <em>alpine</em> image (a minimal linux distribution) that includes ruby, update its packages, install some development tools and also install the <em>bundler</em> and <em>jekyll</em> gems (ruby packages).</p> <p>Now we need to create the image:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t yourname/ruby .
</code></pre></div></div> <p>This command will download the required files so it can create an image of the OS using the instructions provided inside the Dockerfile. Now we need to create a container, mount our working directory to it, expose some ports and get a bash shell so we can run commands inside the container. We will use the <code class="language-plaintext highlighter-rouge">docker run</code> command along with some flags and arguments:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -it -v /path_to_working_dir/:/home/dev/blog -w /home/dev/blog --publish 8080:8080 your_image_name  sh
</code></pre></div></div> <p>The flags <code class="language-plaintext highlighter-rouge">-i</code>, <code class="language-plaintext highlighter-rouge">-t</code> or <code class="language-plaintext highlighter-rouge">-it</code> give us the option to have an interactive session with a terminal. The <code class="language-plaintext highlighter-rouge">-v</code> flag is used to mount a directory from the host system (for me it’s the location of the cloned repository. All my files will then be shown in the container) for which we specify the directory we need to work in and its location inside the container. <code class="language-plaintext highlighter-rouge">-w</code> will mark the working directory so we get faster access to it. Finally, we expose some ports and also get a terminal wish sh.</p> <p>After running this command, we can get into the container by</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start -ai container_name
</code></pre></div></div> <p>Now we have a fully working container which we can use to develop our blog. We can now follow exactly the instructions from the jekyll website in order to create a sample blog: <code class="language-plaintext highlighter-rouge">jekyll new .</code> (don’t omit the dot!), <code class="language-plaintext highlighter-rouge">bundle exec jekyll serve --host 0.0.0.0 --port 8080</code>.</p> <p><em>If you get an error (seg fault) there is a workaround <a href="https://github.com/protocolbuffers/protobuf/issues/16853">here</a>.</em></p> <p>You can see what you made by opening the local address <a href="http://0.0.0.0:8080">http://0.0.0.0:8080</a>.</p> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <h1 id="building-a-blog-with-jekyll-and-docker"> <a href="#building-a-blog-with-jekyll-and-docker" class="anchor-head"></a> Building a blog with Jekyll and Docker </h1> <p>An easy guide and reference (mainly for myself). Probably not following best practices but it works.</p> <p>After reading the guide we’ll have a functional blog built by Jekyll, run locally in a container using Docker.</p> <h2 id="setting-up-the-environment"> <a href="#setting-up-the-environment" class="anchor-head"></a> Setting up the environment </h2> <p>I am using Ubuntu. Get the Docker cli from the store or use</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo snap install docker
</code></pre></div></div> <p>to do it through the terminal.</p> <p>Visual Studio Code is an excellent editor that also has terminal.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo snap install code --classic
</code></pre></div></div> <p>We might also need <code class="language-plaintext highlighter-rouge">git</code> and <code class="language-plaintext highlighter-rouge">curl</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install git curl
</code></pre></div></div> <p>Now, we need to create our working directory. I already have my blog created so I <code class="language-plaintext highlighter-rouge">git clone</code> it. If you don’t have that, the only thing we need is an empty directory inside of which we are going to create the <strong>Dockerfile</strong>.</p> <p>The <strong>Dockerfile</strong> contains instructions on how the image is built, i.e. how the initial state of our container will look. We can create many containers using the same image. So, without further ado, we are going to create a new text file called <em>Dockerfile</em> and write the following text in it:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    FROM ruby:3.4.2-alpine3.21

    RUN apk update
    RUN apk add --no-cache build-base gcc cmake git
    
    RUN gem update bundler &amp;&amp; gem install bundler jekyll
</code></pre></div></div> <p>This will instruct docker to create an <em>alpine</em> image (a minimal linux distribution) that includes ruby, update its packages, install some development tools and also install the <em>bundler</em> and <em>jekyll</em> gems (ruby packages).</p> <p>Now we need to create the image:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build -t yourname/ruby .
</code></pre></div></div> <p>This command will download the required files so it can create an image of the OS using the instructions provided inside the Dockerfile. Now we need to create a container, mount our working directory to it, expose some ports and get a bash shell so we can run commands inside the container. We will use the <code class="language-plaintext highlighter-rouge">docker run</code> command along with some flags and arguments:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -it -v /path_to_working_dir/:/home/dev/blog -w /home/dev/blog --publish 8080:8080 your_image_name  sh
</code></pre></div></div> <p>The flags <code class="language-plaintext highlighter-rouge">-i</code>, <code class="language-plaintext highlighter-rouge">-t</code> or <code class="language-plaintext highlighter-rouge">-it</code> give us the option to have an interactive session with a terminal. The <code class="language-plaintext highlighter-rouge">-v</code> flag is used to mount a directory from the host system (for me it’s the location of the cloned repository. All my files will then be shown in the container) for which we specify the directory we need to work in and its location inside the container. <code class="language-plaintext highlighter-rouge">-w</code> will mark the working directory so we get faster access to it. Finally, we expose some ports and also get a terminal wish sh.</p> <p>After running this command, we can get into the container by</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start -ai container_name
</code></pre></div></div> <p>Now we have a fully working container which we can use to develop our blog. We can now follow exactly the instructions from the jekyll website in order to create a sample blog: <code class="language-plaintext highlighter-rouge">jekyll new .</code> (don’t omit the dot!), <code class="language-plaintext highlighter-rouge">bundle exec jekyll serve --host 0.0.0.0 --port 8080</code>.</p> <p><em>If you get an error (seg fault) there is a workaround <a href="https://github.com/protocolbuffers/protobuf/issues/16853">here</a>.</em></p> <p>You can see what you made by opening the local address <a href="http://0.0.0.0:8080">http://0.0.0.0:8080</a>.</p> </div> </article> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/What-am-I-doing/" > <div class="nav-arrow">Previous</div> <span class="post-title">About my studies (or what I was doing in Sweden)</span> </a> <a class="post-nav-item post-nav-next" href="/Day-trip-to-Nemea/"> <div class="nav-arrow">Next</div> <span class="post-title">Day trip to Nemea</span> </a> </nav> <footer class="footer"> <a class="footer_item" href="/thanks">Attributions</a> <a class="footer_item" href="/assets/cv_2023.pdf">resume</a> <span class="footer_item">&copy; 2025</span> <small class="footer_copyright"> <!-- Klisé Theme: https://github.com/piharpi/jekyll-klise --> <a href="https://github.com/piharpi/jekyll-klise" target="_blank" rel="noreferrer noopener" >klisé</a > theme on <a href="https://jekyllrb.com" target="_blank" rel="noreferrer noopener" >jekyll</a > </small> </footer> <script src="/assets/js/main.js" defer="defer"></script> </div> </body> </html>
